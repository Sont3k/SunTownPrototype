{"version":3,"sources":["webpack:///./src/client/pages/Admin/LoginPage.js","webpack:///./src/client/actions/authActions.js"],"names":["login","authActions","Login","props","state","userData","username","login_username","password","login_password","e","preventDefault","setState","target","id","value","showPassword","error","redirectToRef","nextProps","auth","errorMessage","message","isAuthenticated","logo","onChange","onSubmit","Component","mapStateToProps","mapDispatchToProps","dispatch","request","authServices","then","data","success","user","failure","type","types","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE"],"mappings":"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","file":"static/6.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from \"redux\";\r\nimport { authActions } from \"../../actions/authActions\";\r\nimport \"../../Styles/Admin.css\";\r\nimport logo from \"../../media/logo.png\";\r\n\r\nconst login = authActions.login;\r\n\r\nclass Login extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            userData: {\r\n                login_username: \"\",\r\n                login_password: \"\"\r\n            },\r\n            showPassword: false,\r\n            error: \"\",\r\n            redirectToRef: false\r\n        };\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (nextProps.auth.errorMessage) {\r\n            this.setState({\r\n                ...this.state,\r\n                error: nextProps.auth.errorMessage.message\r\n            });\r\n        } else if (nextProps.auth.isAuthenticated) {\r\n            this.setState({ redirectToRef: true });\r\n        }\r\n    }\r\n\r\n    onSubmit = () => {\r\n        const {\r\n            login_username: username,\r\n            login_password: password\r\n        } = this.state.userData;\r\n        this.props.login({ username, password });\r\n    };\r\n\r\n    showPassword = e => {\r\n        e.preventDefault();\r\n        this.setState({ password: !this.state.password });\r\n    };\r\n\r\n    onChange = e => {\r\n        this.setState({\r\n            ...this.state,\r\n            userData: {\r\n                ...this.state.userData,\r\n                [e.target.id]: e.target.value\r\n            }\r\n        });\r\n    };\r\n\r\n    render() {\r\n        if (this.state.redirectToRef) {\r\n            return <Redirect to=\"/admin\" />;\r\n        }\r\n        return (\r\n            <div className=\"admin_login\">\r\n                <form>\r\n                    {this.state.error && <h1>{this.state.error}</h1>}\r\n                    <div className=\"admin_login_logo_box\">\r\n                        <img src={logo} />\r\n                    </div>\r\n                    <input\r\n                        type=\"text\"\r\n                        id=\"login_username\"\r\n                        value={this.state.userData.login_username}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    <input\r\n                        type={!this.state.password ? \"password\" : \"text\"}\r\n                        id=\"login_password\"\r\n                        value={this.state.userData.login_password}\r\n                        onChange={this.onChange}\r\n                    />\r\n                    <button\r\n                        className=\"admin_login_action_button admin_login_show_pass\"\r\n                        onClick={this.showPassword}\r\n                    >\r\n                        Show Password\r\n                    </button>\r\n                </form>\r\n                <button\r\n                    className=\"admin_login_action_button admin_login_button\"\r\n                    onClick={this.onSubmit}\r\n                >\r\n                    Login\r\n                </button>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        auth: state.auth\r\n    };\r\n};\r\n\r\nconst mapDispatchToProps = dispatch =>\r\n    bindActionCreators(\r\n        {\r\n            login\r\n        },\r\n        dispatch\r\n    );\r\n\r\nexport default connect(\r\n    mapStateToProps,\r\n    mapDispatchToProps\r\n)(Login);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/Admin/LoginPage.js","import { types } from './types';\r\nimport { authServices } from '../services/auth.services';\r\n\r\nexport const authActions = {\r\n  login\r\n}\r\n\r\n\r\nfunction login(userData) {\r\n  return dispatch => {\r\n    dispatch(request())\r\n    authServices.login(userData)\r\n      .then(data => {\r\n        dispatch(success(data.user))\r\n      }, error => {\r\n        dispatch(failure(error))\r\n      })\r\n      \r\n    function request() { return { type: types.LOGIN_REQUEST }}\r\n    function success(user) { return { type: types.LOGIN_SUCCESS, user }}\r\n    function failure(error){ return { type: types.LOGIN_FAILURE, error }}\r\n  }\r\n}\r\n\r\n\r\n// function checkToken(userData) {\r\n//   return dispatch => {\r\n//     authServices.login(userData)\r\n//       .catch(error => {\r\n//         dispatch(failure(error))\r\n//       })\r\n//     function failure(error){ return { type: types.LOGIN_FAILURE, error }}\r\n//   }\r\n// }\r\n\r\n// function logout(){\r\n//   return dispatch => \r\n// }\n\n\n// WEBPACK FOOTER //\n// ./src/client/actions/authActions.js"],"sourceRoot":""}