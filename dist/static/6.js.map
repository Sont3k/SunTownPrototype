{"version":3,"sources":["webpack:///./src/client/pages/Admin/LoginPage.js","webpack:///./src/client/actions/authActions.js"],"names":["login","authActions","Login","props","state","userData","username","login_username","password","login_password","e","preventDefault","setState","target","id","value","showPassword","error","redirectToRef","nextProps","auth","errorMessage","message","isAuthenticated","logo","onChange","onSubmit","Component","mapStateToProps","mapDispatchToProps","dispatch","request","authServices","then","data","success","user","failure","type","types","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_FAILURE"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;AAEA,IAAMA,KAAK,GAAGC,yBAAYD,KAA1B;;IAEME,K;;;;;AACF,iBAAYC,KAAZ,EAAmB;AAAA;;AAAA;AACf,iHAAMA,KAAN;AADe,iGAwBR,YAAM;AAAA,iCAIT,MAAKC,KAAL,CAAWC,QAJF;AAAA,UAEOC,QAFP,wBAETC,cAFS;AAAA,UAGOC,QAHP,wBAGTC,cAHS;;AAKb,YAAKN,KAAL,CAAWH,KAAX,CAAiB;AAAEM,gBAAQ,EAARA,QAAF;AAAYE,gBAAQ,EAARA;AAAZ,OAAjB;AACH,KA9BkB;AAAA,qGAgCJ,UAAAE,CAAC,EAAI;AAChBA,OAAC,CAACC,cAAF;;AACA,YAAKC,QAAL,CAAc;AAAEJ,gBAAQ,EAAE,CAAC,MAAKJ,KAAL,CAAWI;AAAxB,OAAd;AACH,KAnCkB;AAAA,iGAqCR,UAAAE,CAAC,EAAI;AACZ,YAAKE,QAAL,mBACO,MAAKR,KADZ;AAEIC,gBAAQ,oBACD,MAAKD,KAAL,CAAWC,QADV,uCAEHK,CAAC,CAACG,MAAF,CAASC,EAFN,EAEWJ,CAAC,CAACG,MAAF,CAASE,KAFpB;AAFZ;AAOH,KA7CkB;AAEf,UAAKX,KAAL,GAAa;AACTC,cAAQ,EAAE;AACNE,sBAAc,EAAE,EADV;AAENE,sBAAc,EAAE;AAFV,OADD;AAKTO,kBAAY,EAAE,KALL;AAMTC,WAAK,EAAE,EANE;AAOTC,mBAAa,EAAE;AAPN,KAAb;AAFe;AAWlB;;;;8CAEyBC,S,EAAW;AACjC,UAAIA,SAAS,CAACC,IAAV,CAAeC,YAAnB,EAAiC;AAC7B,aAAKT,QAAL,mBACO,KAAKR,KADZ;AAEIa,eAAK,EAAEE,SAAS,CAACC,IAAV,CAAeC,YAAf,CAA4BC;AAFvC;AAIH,OALD,MAKO,IAAIH,SAAS,CAACC,IAAV,CAAeG,eAAnB,EAAoC;AACvC,aAAKX,QAAL,CAAc;AAAEM,uBAAa,EAAE;AAAjB,SAAd;AACH;AACJ;;;6BAyBQ;AACL,UAAI,KAAKd,KAAL,CAAWc,aAAf,EAA8B;AAC1B,eAAO,gCAAC,wBAAD;AAAU,YAAE,EAAC;AAAb,UAAP;AACH;;AACD,aACI;AAAK,iBAAS,EAAC;AAAf,SACI,8CACK,KAAKd,KAAL,CAAWa,KAAX,IAAoB,4CAAK,KAAKb,KAAL,CAAWa,KAAhB,CADzB,EAEI;AAAK,iBAAS,EAAC;AAAf,SACI;AAAK,WAAG,EAAEO;AAAV,QADJ,CAFJ,EAKI;AACI,YAAI,EAAC,MADT;AAEI,UAAE,EAAC,gBAFP;AAGI,aAAK,EAAE,KAAKpB,KAAL,CAAWC,QAAX,CAAoBE,cAH/B;AAII,gBAAQ,EAAE,KAAKkB;AAJnB,QALJ,EAWI;AACI,YAAI,EAAE,CAAC,KAAKrB,KAAL,CAAWI,QAAZ,GAAuB,UAAvB,GAAoC,MAD9C;AAEI,UAAE,EAAC,gBAFP;AAGI,aAAK,EAAE,KAAKJ,KAAL,CAAWC,QAAX,CAAoBI,cAH/B;AAII,gBAAQ,EAAE,KAAKgB;AAJnB,QAXJ,EAiBI;AACI,iBAAS,EAAC,iDADd;AAEI,eAAO,EAAE,KAAKT;AAFlB,yBAjBJ,CADJ,EAyBI;AACI,iBAAS,EAAC,8CADd;AAEI,eAAO,EAAE,KAAKU;AAFlB,iBAzBJ,CADJ;AAkCH;;;EAtFeC,gB;;AAyFpB,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAAAxB,KAAK,EAAI;AAC7B,SAAO;AACHgB,QAAI,EAAEhB,KAAK,CAACgB;AADT,GAAP;AAGH,CAJD;;AAMA,IAAMS,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAC/B,+BACI;AACI9B,SAAK,EAALA;AADJ,GADJ,EAII8B,QAJJ,CAD+B;AAAA,CAAnC;;eAQe,yBACXF,eADW,EAEXC,kBAFW,EAGb3B,KAHa,C;;;;;;;;;;;;;;;;;ACjHf;;AACA;;AAEO,IAAMD,WAAW,GAAG;AACzBD,OAAK,EAALA;AADyB,CAApB;;;AAKP,SAASA,KAAT,CAAeK,QAAf,EAAyB;AACvB,SAAO,UAAAyB,QAAQ,EAAI;AACjBA,YAAQ,CAACC,OAAO,EAAR,CAAR;;AACAC,uBAAahC,KAAb,CAAmBK,QAAnB,EACG4B,IADH,CACQ,UAAAC,IAAI,EAAI;AACZJ,cAAQ,CAACK,OAAO,CAACD,IAAI,CAACE,IAAN,CAAR,CAAR;AACD,KAHH,EAGK,UAAAnB,KAAK,EAAI;AACVa,cAAQ,CAACO,OAAO,CAACpB,KAAD,CAAR,CAAR;AACD,KALH;;AAOA,aAASc,OAAT,GAAmB;AAAE,aAAO;AAAEO,YAAI,EAAEC,aAAMC;AAAd,OAAP;AAAqC;;AAC1D,aAASL,OAAT,CAAiBC,IAAjB,EAAuB;AAAE,aAAO;AAAEE,YAAI,EAAEC,aAAME,aAAd;AAA6BL,YAAI,EAAJA;AAA7B,OAAP;AAA2C;;AACpE,aAASC,OAAT,CAAiBpB,KAAjB,EAAuB;AAAE,aAAO;AAAEqB,YAAI,EAAEC,aAAMG,aAAd;AAA6BzB,aAAK,EAALA;AAA7B,OAAP;AAA4C;AACtE,GAZD;AAaD,C,CAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA,I","file":"static/6.js","sourcesContent":["import React, { Component } from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { bindActionCreators } from \"redux\";\nimport { authActions } from \"../../actions/authActions\";\nimport \"../../Styles/Admin.css\";\nimport logo from \"../../media/logo.png\";\n\nconst login = authActions.login;\n\nclass Login extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            userData: {\n                login_username: \"\",\n                login_password: \"\"\n            },\n            showPassword: false,\n            error: \"\",\n            redirectToRef: false\n        };\n    }\n\n    componentWillReceiveProps(nextProps) {\n        if (nextProps.auth.errorMessage) {\n            this.setState({\n                ...this.state,\n                error: nextProps.auth.errorMessage.message\n            });\n        } else if (nextProps.auth.isAuthenticated) {\n            this.setState({ redirectToRef: true });\n        }\n    }\n\n    onSubmit = () => {\n        const {\n            login_username: username,\n            login_password: password\n        } = this.state.userData;\n        this.props.login({ username, password });\n    };\n\n    showPassword = e => {\n        e.preventDefault();\n        this.setState({ password: !this.state.password });\n    };\n\n    onChange = e => {\n        this.setState({\n            ...this.state,\n            userData: {\n                ...this.state.userData,\n                [e.target.id]: e.target.value\n            }\n        });\n    };\n\n    render() {\n        if (this.state.redirectToRef) {\n            return <Redirect to=\"/admin\" />;\n        }\n        return (\n            <div className=\"admin_login\">\n                <form>\n                    {this.state.error && <h1>{this.state.error}</h1>}\n                    <div className=\"admin_login_logo_box\">\n                        <img src={logo} />\n                    </div>\n                    <input\n                        type=\"text\"\n                        id=\"login_username\"\n                        value={this.state.userData.login_username}\n                        onChange={this.onChange}\n                    />\n                    <input\n                        type={!this.state.password ? \"password\" : \"text\"}\n                        id=\"login_password\"\n                        value={this.state.userData.login_password}\n                        onChange={this.onChange}\n                    />\n                    <button\n                        className=\"admin_login_action_button admin_login_show_pass\"\n                        onClick={this.showPassword}\n                    >\n                        Show Password\n                    </button>\n                </form>\n                <button\n                    className=\"admin_login_action_button admin_login_button\"\n                    onClick={this.onSubmit}\n                >\n                    Login\n                </button>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = state => {\n    return {\n        auth: state.auth\n    };\n};\n\nconst mapDispatchToProps = dispatch =>\n    bindActionCreators(\n        {\n            login\n        },\n        dispatch\n    );\n\nexport default connect(\n    mapStateToProps,\n    mapDispatchToProps\n)(Login);\n\n\n\n// WEBPACK FOOTER //\n// ./src/client/pages/Admin/LoginPage.js","import { types } from './types';\nimport { authServices } from '../services/auth.services';\n\nexport const authActions = {\n  login\n}\n\n\nfunction login(userData) {\n  return dispatch => {\n    dispatch(request())\n    authServices.login(userData)\n      .then(data => {\n        dispatch(success(data.user))\n      }, error => {\n        dispatch(failure(error))\n      })\n      \n    function request() { return { type: types.LOGIN_REQUEST }}\n    function success(user) { return { type: types.LOGIN_SUCCESS, user }}\n    function failure(error){ return { type: types.LOGIN_FAILURE, error }}\n  }\n}\n\n\n// function checkToken(userData) {\n//   return dispatch => {\n//     authServices.login(userData)\n//       .catch(error => {\n//         dispatch(failure(error))\n//       })\n//     function failure(error){ return { type: types.LOGIN_FAILURE, error }}\n//   }\n// }\n\n// function logout(){\n//   return dispatch => \n// }\n\n\n// WEBPACK FOOTER //\n// ./src/client/actions/authActions.js"],"sourceRoot":""}